#!/bin/bash
prog="Parrot Update Manager"
Encoding=UTF-8
[ -z $GTKDIALOG ] && GTKDIALOG=gtkdialog
	MAIN_DIALOG='
<window window_position="1" title="Parrot Update Manager" resizable="true"  image-name="/usr/share/parrot-update-manager/icons/icon.svg">
        <vbox>
				<frame>
					<pixmap>
						<input file>/usr/share/parrot-update-manager/icons/parrot-upgrade.svg</input>
					</pixmap>
				</frame>
				<frame Mirror Selector>
					<vbox space-fill="true">
						<combobox>	 
							<variable>mirror</variable> 
							<item>usa			- north america  - massachussetts  (SIPB MIT) - 1 Gbps</item> 
							<item>usa2		- north america  -    michigan     (Lug MTU) - 1 Gbps</item>
							<item>usa3		- north america  -    virginia     (JMU) - 1 Gbps</item>
							<item>usa4		- north america  -    new york     (Clarkson) - 1 Gbps</item>
							<item>usa5		- north america  -  california     (Berkeley) - 1 Gbps</item>
							<item>euro		-   europe       -    italy        (GARR) - 10 Gbps</item>
							<item>euro2		-   europe       -    france       (Frozenbox) - 250 Mbps</item>
							<item>euro3		-   europe       -    germany      (RWTH-Aachen) - 20 Gbps</item>
							<item>euro4		-   europe       -    england      (Warwick) - 1 Gbps</item>
							<item>euro5		-   europe       -   netherland    (Nluug) - 10 Gbps</item>
							<item>euro6		-   europe       -    poland       (Onet) - 10 Gbps</item>
							<item>euro7		-   europe       -    sweden       (UMA) - 10 Gbps</item>
							<item>euro8		-   europe       -    ireland      (Heanet) - 10 Gbps</item>
							<item>asia			-    asia        -    russia       (Yandex) - 1 Gbps</item>
							<item>asia2		-    asia        -  bangladesh     (AmberIT) - 1 Gbps</item>
							<item>asia3		-    asia        -    taiwan       (NCHC) - 10 Gbps</item>
							<item>asia5		-    asia        -     china       (USTC) -  1 Gbps</item>
							<item>asia6		-    asia        -     china       (TUNA) -  2 Gbps</item>
							<item>sam			- south america  -    ecuador      (Cedia) - 100 Mbps</item>
							<item>sam2		- south america  -    ecuador      (UTA) - 100 Mbps</item>
							<item>meast		-  middle east   -     iran        (Asis) - 1 Gbps</item>
							<item>ocean		-   oceania      - new caledonia   (Lagoon) - 1 Gbps</item>
							<item>africa		-   africa       -    tanzania     (Aptus) - 100 Mbps</item>
							<item>cf		-   Global Delivery Network     (Cloudflare)</item>
						</combobox>
						<hbox>
						<button> 
							<label>Select as standard mirror</label> 
							<action>menuexecg parrot-mirror-selector $(echo $mirror | head -n1 | grep -o "^\w*\b") parrot nonfree</action> 
						</button>
						<button> 
							<label>Select as parrot-libre mirror</label> 
							<action>menuexecg parrot-mirror-selector $(echo $mirror | head -n1 | grep -o "^\w*\b") parrot free</action> 
						</button>
						<button> 
							<label>Select as testing mirror</label> 
							<action>menuexecg parrot-mirror-selector $(echo $mirror | head -n1 | grep -o "^\w*\b") testing nonfree</action> 
						</button>
						</hbox>
		    		</vbox>
		    	</frame>
		<frame Wizard>
			<hbox>
				<button>
       				<input file>/usr/share/parrot-update-manager/icons/icon.svg</input>
					<width>180</width>
					<height>60</height>
					<label>.                                          Automatic System Upgrade                                      </label>
          			<action>gksu "mate-terminal -x /usr/share/parrot-update-manager/full-upgrade.sh" &</action>
        		</button>
			</hbox>
		</frame>  							   
		<frame Manual Update>
			<hbox>
		 		<button>
       				<input file>/usr/share/parrot-update-manager/icons/update.svg</input>
					<height>60</height>
					<label>      Check for Updates                      </label>
          			<action>gksu "mate-terminal -x apt-get update" &</action>
        		</button>
        		<vbox>
		  		<button>
       				<input file>/usr/share/parrot-update-manager/icons/upgrade.png</input>
					<width>30</width>
					<label>             Partial Upgrade                               </label>
          			<action>gksu "mate-terminal -x apt-get upgrade" &</action>
        		</button>
        		<button>
       				<input file>/usr/share/parrot-update-manager/icons/dist-upgrade.png</input>
					<width>30</width>
					<label>             Complete Upgrade                              </label>
          			<action>gksu "mate-terminal -x apt-get dist-upgrade" &</action>
        		</button>
        		</vbox>    
			</hbox>
		</frame>
	 </vbox>
</window>
'


export MAIN_DIALOG

case $1 in
	-d | --dump) echo "$MAIN_DIALOG" ;;
	*) $GTKDIALOG --program=MAIN_DIALOG ;;
esac
